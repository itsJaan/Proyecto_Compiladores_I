package proyectocompiladores;
import java.util.ArrayList;
import java_cup.runtime.Symbol;
import ArbolAST.Arbol;
import ArbolAST.Nodo;
import java.util.Collections;

parser code
{:
    public Symbol symbol;
    public String token;
    public Symbol irrecuperable;
    ArrayList<String> lista = new ArrayList<String>();
    ArrayList<Nodo> hijos = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosModule = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosStructure = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosFuncion = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosIfMain = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosElseMain = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosElseIfMain = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosForMain = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosWhileMain = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosForFuncion = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosWhileFuncion = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosWhileFor = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosForWhile = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosWhileForFuncion = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosForWhileFuncion = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosIfWhileMain = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosIfForMain = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosIfFuncion = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosIfForFuncion = new ArrayList<Nodo>();
    ArrayList<Nodo> hijosIfWhileFuncion = new ArrayList<Nodo>();
    

    public static Arbol arbol;
    public Nodo n_module;
    public String idea;
 
    
    
 @Override
    public void syntax_error(Symbol symbol){
        if(symbol.value.toString().startsWith("\n")){symbol.value = " salto de linea ";}
        if(!symbol.value.toString().startsWith("Error irrecuperable")){
        lista.add("Error en la linea: " + (symbol.left+1)  + " ,Columna: " + (symbol.right+1) + ". NO SE ESPARABA UN: " + symbol.value);
        irrecuperable = symbol;
        }
    }
 @Override
    public void unrecovered_syntax_error(Symbol cur_token) throws java.lang.Exception{
        token = "Error irrecuperable en la linea: " + (irrecuperable.left+1)  + " ,Columna: " + (irrecuperable.right+1) + ". NO SE ESPARABA UN: " + irrecuperable.value;
    }
    public ArrayList<String> getError(){
        return  lista;
    }
    public Arbol getArbol(){
        return arbol;
    }
    public String getUnrecovery(){
        return token;
    }

    public void guardarNodoRaiz(String nodo){
        n_module = new Nodo(nodo);
        arbol= new Arbol(n_module);
    }

    public Nodo getRaiz(){
        return n_module;
    }
:};


terminal imports, if_, Public_, Module, sub,for_,dim,end_,integer_,boolean_,string_, 
         System_,console_,writeline,as,do_,while_,struct_,then,else_,function_,
         return_,next,private_,loop,exit,until,to,and,or,true_,false_,like,
         mod,int_,step_,null_, identificador,mayorigual, menorigual,igual, mayor, menor,
         suma,resta,mult,div,potencia,texto_,numero,espacio,modulo,punto,comillaD,
         comillaS,parentesisA,parentesisC,llaveA,llaveC,guionB,findelinea,
         continuaciondelinea,comentario,main_,coma_,error_, byval, elseif_,mod_,readline;

non terminal UC, IMPORTS, MODULE, IDENTIFICADOR_IMPORT, FUNCTION_, STRUCT_, MAIN, PARAMETRO, TYPE_,
             INFUNCION,SENTENCIA, DECLARACION, TYPEDECLARE,OPERACION_ARITMETICA, OPERADOR_ARITMETICO, NEXT_MODULE, INMAIN,
             INPARENTESIS, BOOLEAN, SENTENCIA_MAIN, IF_MAIN, ELSE_IF_MAIN,
             CONDICION, OPERADORRELACIONAL, FOR_MAIN, INFOR_MAIN, SENTENCIA_FOR, IF_FOR, ELSE_IF_FOR,
             WHILE_FOR, INWHILE_FOR, WHILE_MAIN, INWHILE_MAIN, SENTENCIA_WHILE, IF_WHILE, ELSE_IF_WHILE,
             FOR_WHILE, INFOR_WHILE, LLAMAR_FUNCION, PARAMETRO_SENCILLO, DECLARACIONSENCILLA, FUNCION_,
             SENTENCIA_FUNCION, IF_FUNCION, ELSE_IF_FUNCION, FOR_FUNCION, INFOR_FUNCION, SENTENCIA_FOR_FUNCION,
             IF_FOR_FUNCION, ELSE_IF_FOR_FUNCION, WHILE_FOR_FUNCION, INWHILE_FOR_FUNCION, WHILE_FUNCION,
             INWHILE_FUNCION, SENTENCIA_WHILE_FUNCION, IF_WHILE_FUNCION, FOR_WHILE_FUNCION,
             INFOR_WHILE_FUNCION,ELSE_IF_WHILE_FUNCION,STRUCTMAIN,FUNCIONMAIN, INIF, INIF_FOR, INIF_WHILE,
             INIF_FUNCION , INIF_FOR_FUNCION , INIF_WHILE_FUNCION,ELSE_IF_WHILE_FUNCION2 ,ELSE_IF_WHILE2,
             ELSE_IF_MAIN2 ,ELSE_IF_FOR2 ,ELSE_IF_FUNCION2,ELSE_IF_FOR_FUNCION2, NUMERO,LLAMAR_SUB,PARAMETROS_TYPE, WHILE_TYPE,ELSEIF_TYPE,
             OPERACION_AR,FIN_CON_COMENT,PARAMETROS_SUB,OPERANDOS_TYPE,READLINE_FUNCION,COMENTARIO_ILIMITADO,ULTIMO,PIE_SUB,PIE_MODULE,PIE_FUNCION,
             PIE_STRUCT,INIF_ELSE,INIF_ELSEIF;


precedence left suma, resta;
precedence left mod_;
precedence left mult, div;
precedence right potencia;
precedence left parentesisA, parentesisC;


start with UC;


UC ::=              MODULE
                    |IMPORTS MODULE COMENTARIO_ILIMITADO
                    |comentario findelinea UC
                    |comentario findelinea;


MODULE ::=          Public_  Module  identificador findelinea NEXT_MODULE PIE_MODULE                                                    {:
                                                                                                                                        parser.guardarNodoRaiz("public module()");
                                                                                                                                        for(Nodo n : parser.hijosModule){
                                                                                                                                        parser.getRaiz().agregarHijo(n);
                                                                                                                                        }
                                                                                                                                        :}  
                    |Public_  Module  error findelinea NEXT_MODULE PIE_MODULE
                    |Public_  error  identificador findelinea NEXT_MODULE PIE_MODULE
                    |error  Module  identificador findelinea NEXT_MODULE PIE_MODULE
                    |Public_  Module  identificador  comentario findelinea NEXT_MODULE PIE_MODULE
                    |Public_  Module  identificador  error findelinea NEXT_MODULE PIE_MODULE
                    |Public_  Module  error  comentario findelinea NEXT_MODULE PIE_MODULE
                    |Public_  error  identificador  comentario findelinea NEXT_MODULE PIE_MODULE
                    |error  Module  identificador  comentario findelinea NEXT_MODULE PIE_MODULE;

PIE_MODULE ::=      end_ Module
                    |end_ error;
NEXT_MODULE ::=     MAIN                                                                    
                    |STRUCT_ MAIN                                                           
                    |FUNCION_  MAIN 
                    |STRUCT_ FIN_CON_COMENT NEXT_MODULE
                    |FUNCION_ FIN_CON_COMENT NEXT_MODULE
                    |MAIN findelinea NEXT_MODULE
                    |comentario findelinea NEXT_MODULE;

MAIN ::=            sub  main_ parentesisA parentesisC findelinea  INMAIN PIE_SUB                                                           {:
                                                                                                                                            parser.guardarNodoRaiz("sub main()");
                                                                                                                                            Collections.reverse(parser.hijos);
                                                                                                                                            for(Nodo n : parser.hijos){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            parser.hijosModule.add(parser.getRaiz());
                                                                                                                                            :} 
                    |error  main_ parentesisA parentesisC findelinea  INMAIN PIE_SUB|
                    sub  main_ error parentesisC findelinea  INMAIN PIE_SUB|
                    sub  main_ parentesisA error findelinea  INMAIN PIE_SUB|
                    sub  identificador parentesisA PARAMETRO parentesisC findelinea  INMAIN PIE_SUB|
                    error  identificador parentesisA PARAMETRO parentesisC findelinea  INMAIN PIE_SUB|
                    sub  error parentesisA PARAMETRO parentesisC findelinea  INMAIN PIE_SUB|
                    sub  identificador error PARAMETRO parentesisC findelinea  INMAIN PIE_SUB|
                    sub  identificador parentesisA error parentesisC findelinea  INMAIN PIE_SUB|
                    sub  identificador parentesisA PARAMETRO error findelinea  INMAIN PIE_SUB|
                    sub  main_ parentesisA parentesisC comentario findelinea  INMAIN PIE_SUB|
                    error  main_ parentesisA parentesisC comentario findelinea  INMAIN PIE_SUB|
                    sub  main_ error parentesisC comentario findelinea  INMAIN PIE_SUB|
                    sub  main_ parentesisA error comentario findelinea  INMAIN PIE_SUB|
                    sub  main_ parentesisA parentesisC error findelinea  INMAIN PIE_SUB|
                    sub  identificador parentesisA PARAMETRO parentesisC comentario findelinea  INMAIN PIE_SUB|
                    error  identificador parentesisA PARAMETRO parentesisC comentario findelinea  INMAIN PIE_SUB|
                    sub  error parentesisA PARAMETRO parentesisC comentario findelinea  INMAIN PIE_SUB|
                    sub  identificador error PARAMETRO parentesisC comentario findelinea  INMAIN PIE_SUB|
                    sub  identificador parentesisA error parentesisC comentario findelinea  INMAIN PIE_SUB|
                    sub  identificador parentesisA PARAMETRO error comentario findelinea  INMAIN PIE_SUB|
                    sub  identificador parentesisA PARAMETRO parentesisC error findelinea  INMAIN PIE_SUB|
         ;


FIN_CON_COMENT ::=  findelinea 
                    |comentario findelinea;

COMENTARIO_ILIMITADO ::=comentario findelinea
                    |comentario findelinea COMENTARIO_ILIMITADO|comentario;

INMAIN ::=          ULTIMO 
                    |comentario  findelinea INMAIN                                                                                          {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :}
                                       
                    |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INMAIN                                   {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeline()");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :}

                    |DECLARACION INMAIN                                                                                                     {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :}

                    |SENTENCIA_MAIN INMAIN                                                                                                  {:
                                                                                                                                            Collections.reverse(parser.hijos);
                                                                                                                                            :}
                    |LLAMAR_FUNCION FIN_CON_COMENT INMAIN                                                                                   {:
                                                                                                                                            parser.guardarNodoRaiz("funcion");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_SUB  INMAIN                                                                                                     {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :} 

                    |exit sub FIN_CON_COMENT INMAIN                                                                                         {:
                                                                                                                                            parser.guardarNodoRaiz("exit subproceso");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :} 
                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INMAIN                                                 {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeline()");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :} 

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INMAIN                                                  {:
                                                                                                                                            parser.guardarNodoRaiz("console.readline()");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :} 

                    |error findelinea INMAIN
                    |exit error FIN_CON_COMENT INMAIN
                    |error sub FIN_CON_COMENT INMAIN;

ULTIMO ::=          console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT                                           {: 
                                                                                                                                            parser.guardarNodoRaiz("console.writeline()");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :}
 
                    |DECLARACION                                                                                                            {: 
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :}

                    |SENTENCIA_MAIN                                                     
                    |comentario findelinea                                                                                                  {: 
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :} 

                    |LLAMAR_FUNCION FIN_CON_COMENT                                                                                          {: 
                                                                                                                                            parser.guardarNodoRaiz("funcion");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :} 

                    |LLAMAR_SUB                                                                                                             {: 
                                                                                                                                            parser.guardarNodoRaiz("subproceso");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :}
 
                    |exit sub FIN_CON_COMENT                                                                                                {: 
                                                                                                                                            parser.guardarNodoRaiz("exit subproceso");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :} 
            
                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT                                                        {: 
                                                                                                                                            parser.guardarNodoRaiz("console.writeline()");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :} 

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT                                                         {: 
                                                                                                                                            parser.guardarNodoRaiz("console.readline()");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :} 
                    |error sub FIN_CON_COMENT
                    |error findelinea
                    |error PIE_SUB;
       
PIE_SUB ::=         end_ sub FIN_CON_COMENT
                    |end_ error FIN_CON_COMENT;
LLAMAR_SUB ::=      identificador PARAMETROS_SUB
                    |identificador error findelinea;

PARAMETROS_SUB ::=   PARAMETROS_TYPE FIN_CON_COMENT 
                    |PARAMETROS_TYPE coma_ PARAMETROS_SUB
                    |parentesisA PARAMETROS_TYPE parentesisC coma_ PARAMETROS_SUB
                    |parentesisA PARAMETROS_TYPE parentesisC FIN_CON_COMENT;

NUMERO ::=   numero 
                    |resta numero;

INPARENTESIS::=     texto_
                    |NUMERO
                    |BOOLEAN
                    |identificador
                    |identificador punto identificador
                    |OPERACION_ARITMETICA
                    |texto_ continuaciondelinea INPARENTESIS
                    |NUMERO continuaciondelinea INPARENTESIS
                    |OPERACION_ARITMETICA continuaciondelinea INPARENTESIS
                    |BOOLEAN continuaciondelinea INPARENTESIS
                    |identificador continuaciondelinea INPARENTESIS
                    |identificador punto identificador continuaciondelinea INPARENTESIS;
                    


OPERANDOS_TYPE ::=   NUMERO
                    |identificador
                    |LLAMAR_FUNCION;
OPERACION_ARITMETICA ::= OPERANDOS_TYPE OPERADOR_ARITMETICO OPERACION_AR|

                    parentesisA OPERACION_ARITMETICA parentesisC|
                    OPERACION_ARITMETICA parentesisA OPERACION_ARITMETICA parentesisC|
                    parentesisA OPERACION_ARITMETICA parentesisC OPERACION_ARITMETICA|
                    OPERACION_ARITMETICA parentesisA OPERACION_ARITMETICA parentesisC OPERACION_ARITMETICA|
                    parentesisA OPERACION_ARITMETICA parentesisC OPERADOR_ARITMETICO OPERACION_ARITMETICA|
                    OPERACION_ARITMETICA parentesisA OPERACION_ARITMETICA parentesisC OPERADOR_ARITMETICO OPERACION_ARITMETICA|
                    OPERANDOS_TYPE parentesisA OPERACION_ARITMETICA parentesisC|
                    parentesisA OPERACION_ARITMETICA parentesisC OPERANDOS_TYPE|
                    parentesisA OPERACION_ARITMETICA parentesisC OPERADOR_ARITMETICO OPERANDOS_TYPE|
                    OPERACION_ARITMETICA parentesisA OPERACION_ARITMETICA parentesisC OPERADOR_ARITMETICO OPERANDOS_TYPE|
                    resta parentesisA OPERACION_ARITMETICA parentesisC|
                    resta parentesisA OPERACION_ARITMETICA parentesisC OPERACION_ARITMETICA|
                    resta parentesisA OPERACION_ARITMETICA parentesisC OPERADOR_ARITMETICO OPERACION_ARITMETICA|
                    resta parentesisA OPERACION_ARITMETICA parentesisC OPERANDOS_TYPE|
                    resta parentesisA OPERACION_ARITMETICA parentesisC OPERADOR_ARITMETICO OPERANDOS_TYPE|

                    parentesisA OPERANDOS_TYPE parentesisC|
                    OPERACION_ARITMETICA parentesisA OPERANDOS_TYPE parentesisC|
                    parentesisA OPERANDOS_TYPE parentesisC OPERACION_ARITMETICA|
                    OPERACION_ARITMETICA parentesisA OPERANDOS_TYPE parentesisC OPERACION_ARITMETICA|
                    parentesisA OPERANDOS_TYPE parentesisC OPERADOR_ARITMETICO OPERACION_ARITMETICA|
                    OPERACION_ARITMETICA parentesisA OPERANDOS_TYPE parentesisC OPERADOR_ARITMETICO OPERACION_ARITMETICA|
                    parentesisA OPERANDOS_TYPE parentesisC OPERADOR_ARITMETICO OPERANDOS_TYPE|
                    OPERACION_ARITMETICA parentesisA OPERANDOS_TYPE parentesisC OPERADOR_ARITMETICO OPERANDOS_TYPE|
                    OPERANDOS_TYPE parentesisA OPERANDOS_TYPE parentesisC|
                    parentesisA OPERANDOS_TYPE parentesisC OPERANDOS_TYPE|
                    resta parentesisA OPERANDOS_TYPE parentesisC|
                    resta parentesisA OPERANDOS_TYPE parentesisC OPERACION_ARITMETICA|
                    resta parentesisA OPERANDOS_TYPE parentesisC OPERADOR_ARITMETICO OPERACION_ARITMETICA|
                    resta parentesisA OPERANDOS_TYPE parentesisC OPERADOR_ARITMETICO OPERANDOS_TYPE|
                    resta parentesisA OPERANDOS_TYPE parentesisC OPERANDOS_TYPE|

                    resta LLAMAR_FUNCION|
                    resta LLAMAR_FUNCION OPERANDOS_TYPE|
                    resta LLAMAR_FUNCION OPERACION_ARITMETICA|
                    resta LLAMAR_FUNCION OPERADOR_ARITMETICO OPERACION_AR|
                     
                    parentesisA resta LLAMAR_FUNCION parentesisC|
                    resta parentesisA resta LLAMAR_FUNCION parentesisC|
                    resta parentesisA resta LLAMAR_FUNCION parentesisC OPERACION_ARITMETICA|
                    resta parentesisA resta LLAMAR_FUNCION parentesisC OPERADOR_ARITMETICO OPERACION_ARITMETICA|
                    resta parentesisA resta LLAMAR_FUNCION parentesisC OPERANDOS_TYPE;
                         
                         
                         

OPERADOR_ARITMETICO ::=  suma
                    |resta
                    |mult
                    |div
                    |potencia
                    |mod_; 

OPERACION_AR ::=    OPERANDOS_TYPE
                    |OPERACION_ARITMETICA;

DECLARACION ::=     dim  identificador  as  TYPE_ FIN_CON_COMENT
                    |dim  identificador  as  TYPE_  igual  TYPEDECLARE FIN_CON_COMENT
                    |dim identificador  igual  TYPEDECLARE FIN_CON_COMENT
                    |dim  identificador igual LLAMAR_FUNCION FIN_CON_COMENT
                    |dim  identificador as TYPE_ igual LLAMAR_FUNCION FIN_CON_COMENT
                    |dim  identificador as TYPE_ igual OPERACION_ARITMETICA FIN_CON_COMENT
                    |dim identificador igual OPERACION_ARITMETICA FIN_CON_COMENT
                    |identificador igual identificador FIN_CON_COMENT
                    |identificador igual LLAMAR_FUNCION FIN_CON_COMENT
                    |identificador igual OPERACION_ARITMETICA FIN_CON_COMENT
                    |identificador igual NUMERO FIN_CON_COMENT
                    |identificador igual BOOLEAN FIN_CON_COMENT
                    |identificador igual texto_ FIN_CON_COMENT
                    |identificador igual READLINE_FUNCION FIN_CON_COMENT
                    |identificador punto identificador igual identificador FIN_CON_COMENT
                    |identificador punto identificador igual LLAMAR_FUNCION FIN_CON_COMENT
                    |identificador punto identificador igual OPERACION_ARITMETICA FIN_CON_COMENT
                    |identificador punto identificador igual READLINE_FUNCION FIN_CON_COMENT
                    |identificador punto identificador igual NUMERO FIN_CON_COMENT
                    |identificador punto identificador igual BOOLEAN FIN_CON_COMENT
                    |identificador punto identificador igual texto_ FIN_CON_COMENT
                    |dim identificador igual identificador FIN_CON_COMENT
                    |dim identificador as TYPE_ igual identificador FIN_CON_COMENT  
                    |dim identificador igual LLAMAR_SUB|dim identificador as TYPE_ igual LLAMAR_SUB
                    |identificador punto identificador igual LLAMAR_SUB 
                    |identificador igual LLAMAR_SUB;
                

TYPE_ ::=           string_
                    |boolean_
                    |integer_
                    |int_
                    |identificador; 

READLINE_FUNCION ::= console_ punto readline parentesisA parentesisC;

TYPEDECLARE ::=     texto_
                    |NUMERO
                    |BOOLEAN
                    |READLINE_FUNCION;

BOOLEAN ::=         true_
                    |false_;

SENTENCIA_MAIN ::=   IF_MAIN                                                                          
                    |FOR_MAIN                                                                                                        
                    |WHILE_MAIN                                                 ;
    

WHILE_TYPE ::=      until
                    |while_;

ELSEIF_TYPE ::=     else_ if_
                    | elseif_;

IF_MAIN ::=         if_ CONDICION then FIN_CON_COMENT INIF end_ if_ FIN_CON_COMENT                                                          {:
                                                                                                                                            parser.guardarNodoRaiz("if condicion then");
                                                                                                                                            for(Nodo n : parser.hijosIfMain){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            Collections.reverse(parser.hijos);
                                                                                                                                            :} 
                                                                                                                                                                      
                    |if_ CONDICION then FIN_CON_COMENT INIF else_ FIN_CON_COMENT INIF_ELSE end_ if_ FIN_CON_COMENT                               {:
                                                                                                                                            parser.guardarNodoRaiz("else");
                                                                                                                                            for(Nodo n : parser.hijosElseMain){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            parser.guardarNodoRaiz("if condicion then");
                                                                                                                                            for(Nodo n : parser.hijosIfMain){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            Collections.reverse(parser.hijos);
                                                                                                                                            :}
                    |if_ CONDICION then FIN_CON_COMENT INIF ELSE_IF_MAIN FIN_CON_COMENT INIF_ELSE end_ if_ FIN_CON_COMENT                        {:
                                                                                                                                            parser.guardarNodoRaiz("elseif condicion then"); 
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            parser.guardarNodoRaiz("if condicion then");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            Collections.reverse(parser.hijos);
                                                                                                                                            :}
                    |if_ CONDICION then FIN_CON_COMENT INIF ELSE_IF_MAIN2 end_ if_ FIN_CON_COMENT                                           {:
                                                                                                                                            
                                                                                                                                            parser.guardarNodoRaiz("if condicion then");
                                                                                                                                            for(Nodo n : parser.hijosIfMain){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            Collections.reverse(parser.hijos);
                                                                                                                                            parser.hijosElseIfMain.clear();
                                                                                                                                            :};

INIF ::=            console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT                                           {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosIfMain.add(parser.getRaiz());
                                                                                                                                            :}
 
                    |DECLARACION                                                                                                            {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosIfMain.add(parser.getRaiz());
                                                                                                                                            :}
            
                    |SENTENCIA_MAIN                                                                                             

                    |comentario findelinea                                                                                                  {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |comentario  findelinea INIF                                                                                            {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_FUNCION FIN_CON_COMENT                                                                                          {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INIF                                     {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeline()");
                                                                                                                                            parser.hijosIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |DECLARACION INIF                                                                                                       {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |SENTENCIA_MAIN findelinea INIF

                    |LLAMAR_FUNCION FIN_CON_COMENT INIF                                                                                     {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_SUB                                                                                                             {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_SUB  INIF                                                                                                       {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |exit sub FIN_CON_COMENT INIF                                                                                           {:
                                                                                                                                            parser.guardarNodoRaiz("exit sub");
                                                                                                                                            parser.hijosIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |exit sub FIN_CON_COMENT                                                                                                {:
                                                                                                                                            parser.guardarNodoRaiz("exit sub");
                                                                                                                                            parser.hijosIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INIF                                                   {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT                                                         {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INIF                                                    {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosIfMain.add(parser.getRaiz());
                                                                                                                                            :};


INIF_ELSE ::=            console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT                                           {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosElseMain.add(parser.getRaiz());
                                                                                                                                            :}
 
                    |DECLARACION                                                                                                            {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosElseMain.add(parser.getRaiz());
                                                                                                                                            :}
            
                    |SENTENCIA_MAIN                                                                                             

                    |comentario findelinea                                                                                                  {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosElseMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |comentario  findelinea INIF_ELSE                                                                                            {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosElseMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_FUNCION FIN_CON_COMENT                                                                                          {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosElseMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INIF_ELSE                                     {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeline()");
                                                                                                                                            parser.hijosElseMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |DECLARACION INIF                                                                                                       {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosElseMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |SENTENCIA_MAIN findelinea INIF_ELSE

                    |LLAMAR_FUNCION FIN_CON_COMENT INIF_ELSE                                                                                     {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosElseMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_SUB                                                                                                             {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosElseMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_SUB  INIF_ELSE                                                                                                       {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosElseMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |exit sub FIN_CON_COMENT INIF_ELSE                                                                                           {:
                                                                                                                                            parser.guardarNodoRaiz("exit sub");
                                                                                                                                            parser.hijosElseMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |exit sub FIN_CON_COMENT                                                                                                {:
                                                                                                                                            parser.guardarNodoRaiz("exit sub");
                                                                                                                                            parser.hijosElseMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosElseMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INIF_ELSE                                                   {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosElseMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT                                                         {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosElseMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INIF_ELSE                                                    {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosElseMain.add(parser.getRaiz());
                                                                                                                                            :};




INIF_ELSEIF ::=            console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT                                           {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosElseIfMain.add(parser.getRaiz());
                                                                                                                                            :}
 
                    |DECLARACION                                                                                                            {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosElseIfMain.add(parser.getRaiz());
                                                                                                                                            :}
            
                    |SENTENCIA_MAIN                                                                                             

                    |comentario findelinea                                                                                                  {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosElseIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |comentario  findelinea INIF_ELSEIF                                                                                            {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosElseIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_FUNCION FIN_CON_COMENT                                                                                          {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosElseIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INIF_ELSEIF                                     {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeline()");
                                                                                                                                            parser.hijosElseIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |DECLARACION INIF_ELSEIF                                                                                                       {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosElseIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |SENTENCIA_MAIN findelinea INIF_ELSEIF

                    |LLAMAR_FUNCION FIN_CON_COMENT INIF_ELSEIF                                                                                     {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosElseIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_SUB                                                                                                             {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosElseIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_SUB  INIF_ELSEIF                                                                                                       {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosElseIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |exit sub FIN_CON_COMENT INIF_ELSEIF                                                                                          {:
                                                                                                                                            parser.guardarNodoRaiz("exit sub");
                                                                                                                                            parser.hijosElseIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |exit sub FIN_CON_COMENT                                                                                                {:
                                                                                                                                            parser.guardarNodoRaiz("exit sub");
                                                                                                                                            parser.hijosElseIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosElseIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INIF_ELSEIF                                                   {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosElseIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT                                                         {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosElseIfMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INIF_ELSEIF                                                    {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosElseIfMain.add(parser.getRaiz());
                                                                                                                                            :};



ELSE_IF_MAIN ::=    ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_ELSEIF  ELSE_IF_MAIN                                                            
                    |ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_ELSEIF else_                                                                   {: 
                                                                                                                                            parser.guardarNodoRaiz("else");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            :};
ELSE_IF_MAIN2::=    ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_ELSEIF  ELSE_IF_MAIN2                                                    {: 
                                                                                                                                              
                                                                                                                                            System.out.println(parser.hijosElseIfMain.toString());
                                                                                                                                            parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                            for(Nodo n : parser.hijosElseIfMain){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            
                                                                                                                                            :}
                    |ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_ELSEIF                                                                  {: 
                                                                                                                                            parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                            for(Nodo n : parser.hijosElseIfMain){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            
                                                                                                                                            :};

CONDICION ::=        identificador OPERADORRELACIONAL identificador
                    |identificador OPERADORRELACIONAL NUMERO
                    |identificador OPERADORRELACIONAL BOOLEAN
                    |identificador OPERADORRELACIONAL OPERACION_ARITMETICA
                    |OPERACION_ARITMETICA OPERADORRELACIONAL NUMERO
                    |OPERACION_ARITMETICA OPERADORRELACIONAL OPERACION_ARITMETICA
                    |OPERACION_ARITMETICA OPERADORRELACIONAL identificador
                    |OPERACION_ARITMETICA OPERADORRELACIONAL BOOLEAN
                    |BOOLEAN OPERADORRELACIONAL BOOLEAN
                    |BOOLEAN OPERADORRELACIONAL NUMERO
                    |BOOLEAN OPERADORRELACIONAL identificador
                    |BOOLEAN OPERADORRELACIONAL OPERACION_ARITMETICA
                    |NUMERO OPERADORRELACIONAL NUMERO
                    |NUMERO OPERADORRELACIONAL identificador
                    |NUMERO OPERADORRELACIONAL OPERACION_ARITMETICA
                    |NUMERO OPERADORRELACIONAL BOOLEAN
                    |BOOLEAN OPERADORRELACIONAL LLAMAR_FUNCION
                    |identificador OPERADORRELACIONAL LLAMAR_FUNCION
                    |NUMERO OPERADORRELACIONAL LLAMAR_FUNCION
                    |OPERACION_ARITMETICA OPERADORRELACIONAL LLAMAR_FUNCION
                    |LLAMAR_FUNCION OPERADORRELACIONAL BOOLEAN
                    |LLAMAR_FUNCION OPERADORRELACIONAL identificador
                    |LLAMAR_FUNCION OPERADORRELACIONAL NUMERO
                    |LLAMAR_FUNCION OPERADORRELACIONAL OPERACION_ARITMETICA;

OPERADORRELACIONAL ::= mayor igual
                    |menor igual
                    |igual
                    |mayor
                    |menor;

FOR_MAIN ::=        for_ identificador igual NUMERO to NUMERO step_ NUMERO FIN_CON_COMENT INFOR_MAIN next identificador FIN_CON_COMENT      {: 
                                                                                                                                            parser.guardarNodoRaiz("for identificador igual numero to numero step numero");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            for(Nodo n : parser.hijosForMain){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            Nodo tmp = new Nodo("next identificador");
                                                                                                                                            parser.getRaiz().agregarHijo(tmp);
                                                                                                                                            :};

INFOR_MAIN::=       console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT                                           {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :} 
                    |DECLARACION                                                                                                            {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |SENTENCIA_FOR

                    |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INFOR_MAIN                               {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |DECLARACION INFOR_MAIN                                                                                                 {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |comentario findelinea                                                                                                  {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}

                    | comentario  findelinea INFOR_MAIN                                                                                     {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |SENTENCIA_FOR INFOR_MAIN|LLAMAR_FUNCION FIN_CON_COMENT                                                                    


                    |LLAMAR_FUNCION FIN_CON_COMENT INFOR_MAIN                                                                               {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_SUB                                                                                                             {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_SUB  INFOR_MAIN                                                                                                 {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |exit for_ FIN_CON_COMENT INFOR_MAIN                                                                                    {:
                                                                                                                                            parser.guardarNodoRaiz("exit for");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |exit for_ FIN_CON_COMENT                                                                                               {:
                                                                                                                                            parser.guardarNodoRaiz("exit for");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INFOR_MAIN                                             {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}
                                                                                                                                            
                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT                                                         {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INFOR_MAIN                                              {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :};


SENTENCIA_FOR::=     IF_FOR                                                      
                    |FOR_MAIN                                                   
                    |WHILE_FOR; 
    

INIF_FOR ::=        console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT
                    |DECLARACION
                    |SENTENCIA_FOR
                    |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INIF_FOR
                    |DECLARACION INIF_FOR
                    |comentario findelinea 
                    |comentario  findelinea INIF_FOR
                    |SENTENCIA_FOR INIF_FOR
                    |LLAMAR_FUNCION FIN_CON_COMENT
                    |LLAMAR_FUNCION FIN_CON_COMENT INIF_FOR 
                    |LLAMAR_SUB 
                    |LLAMAR_SUB  INIF_FOR
                    |exit for_ FIN_CON_COMENT INIF_FOR
                    |exit sub FIN_CON_COMENT INIF_FOR
                    |exit for_ FIN_CON_COMENT
                    |exit sub FIN_CON_COMENT
                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT
                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INIF_FOR
                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT
                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INIF_FOR;

IF_FOR ::=          if_ CONDICION then FIN_CON_COMENT INIF_FOR  end_ if_ FIN_CON_COMENT                                                     {:
                                                                                                                                            parser.guardarNodoRaiz("if condicion then");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |if_ CONDICION then FIN_CON_COMENT INIF_FOR  else_ FIN_CON_COMENT INIF_FOR  end_ if_ FIN_CON_COMENT                     {:
                                                                                                                                            parser.guardarNodoRaiz("else");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            parser.guardarNodoRaiz("if condicion then");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |if_ CONDICION then FIN_CON_COMENT INIF_FOR ELSE_IF_FOR FIN_CON_COMENT INIF_FOR end_ if_ FIN_CON_COMENT                 {:
                                                                                                                
                                                                                                                                            
                                                                                                                                            parser.guardarNodoRaiz("if condicion then");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |if_ CONDICION then FIN_CON_COMENT INIF_FOR ELSE_IF_FOR2 end_ if_ FIN_CON_COMENT                                        {:
                                                                                                                                            parser.guardarNodoRaiz("if condicion then");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :};           

ELSE_IF_FOR ::=     ELSEIF_TYPE CONDICION then FIN_CON_COMENT  INIF_FOR else_                                                               {:
                                                                                                                                            parser.guardarNodoRaiz("else");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}
                    |ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_FOR ELSE_IF_FOR                                                         {:
                                                                                                                                            parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :};

ELSE_IF_FOR2::=     ELSEIF_TYPE CONDICION then FIN_CON_COMENT  INIF_FOR                                                                     {:
                                                                                                                                            parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :}
                    |ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_FOR ELSE_IF_FOR2                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            :};

WHILE_FOR::=        do_ WHILE_TYPE CONDICION FIN_CON_COMENT INWHILE_FOR loop FIN_CON_COMENT                                                 {: 
                                                                                                                                            parser.guardarNodoRaiz("do while condicion");
                                                                                                                                            parser.hijosForMain.add(parser.getRaiz());
                                                                                                                                            for(Nodo n : parser.hijosWhileFor){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            Nodo tmp = new Nodo("Loop");
                                                                                                                                            parser.getRaiz().agregarHijo(tmp);
                                                                                                                                            
                                                                                                                                            :};

INWHILE_FOR ::=      console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT                                          {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}
  
                    |DECLARACION                                                                                                            {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}
                    |SENTENCIA_WHILE                                                                                                        

                    |comentario findelinea                                                                                                  {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}

                    |comentario  findelinea INWHILE_FOR                                                                                     {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INWHILE_FOR                              {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}

                    |DECLARACION INWHILE_FOR                                                                                                {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}

                    |SENTENCIA_WHILE INWHILE_FOR
                    |LLAMAR_FUNCION FIN_CON_COMENT                                                                                          {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}
  
                    |LLAMAR_FUNCION FIN_CON_COMENT INWHILE_FOR                                                                              {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}
                                                                             
                    |LLAMAR_SUB                                                                                                             {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_SUB  INWHILE_FOR                                                                                                {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}

                    |exit do_ FIN_CON_COMENT INWHILE_FOR                                                                                    {:
                                                                                                                                            parser.guardarNodoRaiz("exit do");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}

                    |exit for_ FIN_CON_COMENT INWHILE_FOR                                                                                   {:
                                                                                                                                            parser.guardarNodoRaiz("exit for");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}

                    |exit do_ FIN_CON_COMENT                                                                                                {:
                                                                                                                                            parser.guardarNodoRaiz("exit do");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}

                    |exit for_ FIN_CON_COMENT                                                                                               {:
                                                                                                                                            parser.guardarNodoRaiz("exit for");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}
                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INWHILE_FOR                                            {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT                                                         {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INWHILE_FOR                                             {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosWhileFor.add(parser.getRaiz());
                                                                                                                                            :};

WHILE_MAIN::=       do_ WHILE_TYPE CONDICION FIN_CON_COMENT INWHILE_MAIN loop FIN_CON_COMENT                                                {: 
                                                                                                                                            parser.guardarNodoRaiz("do while condicion");
                                                                                                                                            parser.hijos.add(parser.getRaiz());
                                                                                                                                            for(Nodo n : parser.hijosWhileMain){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            Nodo tmp = new Nodo("Loop");
                                                                                                                                            parser.getRaiz().agregarHijo(tmp);
                                                                                                                                            
                                                                                                                                            :};

INWHILE_MAIN ::=     console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT                                          {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |DECLARACION                                                                                                            {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}
                    |SENTENCIA_WHILE
                    |comentario findelinea                                                                                                  {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}

                    | comentario  findelinea INWHILE_MAIN                                                                                   {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INWHILE_MAIN                             {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |DECLARACION INWHILE_MAIN                                                                                               {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |SENTENCIA_WHILE INWHILE_MAIN                                                                                               

                    |LLAMAR_FUNCION FIN_CON_COMENT                                                                                          {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_FUNCION FIN_CON_COMENT INWHILE_MAIN                                                                             {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_SUB                                                                                                             {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_SUB  INWHILE_MAIN                                                                                               {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |exit do_ FIN_CON_COMENT INWHILE_MAIN                                                                                   {:
                                                                                                                                            parser.guardarNodoRaiz("exit do");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |exit do_ FIN_CON_COMENT                                                                                                {:
                                                                                                                                            parser.guardarNodoRaiz("exit do");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INWHILE_MAIN                                           {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT                                                         {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INWHILE_MAIN                                            {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :};

SENTENCIA_WHILE ::= IF_WHILE 
                    |FOR_WHILE
                    |WHILE_MAIN;

INIF_WHILE ::=      console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT
                    |DECLARACION
                    |SENTENCIA_WHILE
                    |comentario findelinea 
                    |comentario  findelinea INIF_WHILE
                    |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INIF_WHILE
                    |DECLARACION INIF_WHILE
                    |SENTENCIA_WHILE INIF_WHILE
                    |LLAMAR_FUNCION FIN_CON_COMENT
                    |LLAMAR_FUNCION FIN_CON_COMENT INIF_WHILE
                    |LLAMAR_SUB 
                    |LLAMAR_SUB  INIF_WHILE
                    |exit do_ FIN_CON_COMENT INIF_WHILE
                    |exit sub FIN_CON_COMENT INIF_WHILE
                    |exit do_ FIN_CON_COMENT
                    |exit sub FIN_CON_COMENT
                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT
                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INIF_WHILE
                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT
                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INIF_WHILE; 

IF_WHILE ::=        if_ CONDICION then FIN_CON_COMENT INIF_WHILE  end_ if_ FIN_CON_COMENT                                                   {:
                                                                                                                                            parser.guardarNodoRaiz("if condicion then");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |if_ CONDICION then FIN_CON_COMENT INIF_WHILE  else_ FIN_CON_COMENT INIF_WHILE  end_ if_ FIN_CON_COMENT                 {:
                                                                                                                                            parser.guardarNodoRaiz("else");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            parser.guardarNodoRaiz("if condicion then");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}    
  
                    |if_ CONDICION then FIN_CON_COMENT INIF_WHILE ELSE_IF_WHILE FIN_CON_COMENT INIF_WHILE end_ if_ FIN_CON_COMENT           {:
                                                                                                                                            parser.guardarNodoRaiz("if condicion then");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}

                    |if_ CONDICION then FIN_CON_COMENT INIF_WHILE ELSE_IF_WHILE2 end_ if_ FIN_CON_COMENT                                    {:
                                                                                                                                            parser.guardarNodoRaiz("if condicion then");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :};

ELSE_IF_WHILE ::=   ELSEIF_TYPE CONDICION then FIN_CON_COMENT  INIF_WHILE else_                                                             {:
                                                                                                                                            parser.guardarNodoRaiz("else");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}
                    |ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_WHILE ELSE_IF_WHILE                                                     {:
                                                                                                                                            parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :};

ELSE_IF_WHILE2::=   ELSEIF_TYPE CONDICION then FIN_CON_COMENT  INIF_WHILE                                                                   {:
                                                                                                                                            parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :}
                    |ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_WHILE ELSE_IF_WHILE2                                                    {:
                                                                                                                                            parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            :};

FOR_WHILE ::=       for_ identificador igual NUMERO to NUMERO step_ NUMERO FIN_CON_COMENT INFOR_WHILE next identificador FIN_CON_COMENT     {: 
                                                                                                                                            parser.guardarNodoRaiz("for identificador igual numero to numero step numero");
                                                                                                                                            parser.hijosWhileMain.add(parser.getRaiz());
                                                                                                                                            Collections.reverse(parser.hijosForWhile);
                                                                                                                                            for(Nodo n : parser.hijosForWhile){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            Nodo tmp = new Nodo("next identificador");
                                                                                                                                            parser.getRaiz().agregarHijo(tmp);
                                                                                                                                            :};

INFOR_WHILE ::=     console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT                                           {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}

                    |DECLARACION                                                                                                            {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}

                    |comentario findelinea                                                                                                  {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}


                    |comentario  findelinea INFOR_WHILE                                                                                     {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}


                    |SENTENCIA_FOR

                    |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INFOR_WHILE                              {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}

                    |DECLARACION INFOR_WHILE                                                                                                {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}


                    |SENTENCIA_FOR INFOR_WHILE

                    |LLAMAR_FUNCION FIN_CON_COMENT                                                                                          {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}


                    |LLAMAR_FUNCION FIN_CON_COMENT INFOR_WHILE                                                                              {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}

 
                    |LLAMAR_SUB                                                                                                             {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}


                    |LLAMAR_SUB  INFOR_WHILE                                                                                                {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}


                    |exit for_ FIN_CON_COMENT INFOR_WHILE                                                                                   {:
                                                                                                                                            parser.guardarNodoRaiz("exit for");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}


                    |exit do_ FIN_CON_COMENT INFOR_WHILE                                                                                    {:
                                                                                                                                            parser.guardarNodoRaiz("exit do");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}


                    |exit for_ FIN_CON_COMENT                                                                                               {:
                                                                                                                                            parser.guardarNodoRaiz("exit for");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}


                    |exit do_ FIN_CON_COMENT                                                                                                {:
                                                                                                                                            parser.guardarNodoRaiz("exit do");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}


                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INFOR_WHILE                                            {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT                                                         {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INFOR_WHILE                                             {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosForWhile.add(parser.getRaiz());
                                                                                                                                            :};

LLAMAR_FUNCION ::=  identificador parentesisA parentesisC
                    |identificador parentesisA PARAMETRO_SENCILLO;

PARAMETRO_SENCILLO ::=PARAMETROS_TYPE  parentesisC
                    |PARAMETROS_TYPE coma_ PARAMETRO_SENCILLO
                    |parentesisA PARAMETROS_TYPE parentesisC coma_ PARAMETRO_SENCILLO
                    |parentesisA PARAMETROS_TYPE parentesisC  parentesisC;

PARAMETROS_TYPE ::= identificador|BOOLEAN|NUMERO;

DECLARACIONSENCILLA::= dim identificador as TYPE_ FIN_CON_COMENT                                                                            {:
                                                                                                                                            parser.guardarNodoRaiz("Dim identificador AS Type");
                                                                                                                                            parser.hijosStructure.add(parser.getRaiz());
                                                                                                                                            :}
                    |dim identificador as TYPE_ FIN_CON_COMENT DECLARACIONSENCILLA                                                          {:
                                                                                                                                            parser.guardarNodoRaiz("Dim identificador AS Type");
                                                                                                                                            parser.hijosStructure.add(parser.getRaiz());
                                                                                                                                            :}
                    |dim error as TYPE_ FIN_CON_COMENT
                    |dim identificador error TYPE_ FIN_CON_COMENT
                    |dim identificador as error FIN_CON_COMENT
                    |dim error as TYPE_ FIN_CON_COMENT DECLARACIONSENCILLA
                    |dim identificador error TYPE_ FIN_CON_COMENT DECLARACIONSENCILLA;

STRUCT_ ::=         Public_ struct_ identificador FIN_CON_COMENT DECLARACIONSENCILLA PIE_STRUCT                                             {:
                                                                                                                                            parser.guardarNodoRaiz("public struct identificador");
                                                                                                                                            Collections.reverse(parser.hijosStructure);
                                                                                                                                            for(Nodo n : parser.hijosStructure){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            parser.hijosModule.add(parser.getRaiz());
                                                                                                                                            :}           



                    |error struct_ identificador FIN_CON_COMENT DECLARACIONSENCILLA PIE_STRUCT 
                    |Public_ error identificador FIN_CON_COMENT DECLARACIONSENCILLA PIE_STRUCT 
                    |Public_ struct_ error FIN_CON_COMENT DECLARACIONSENCILLA PIE_STRUCT ;

PIE_STRUCT ::=      end_ struct_|error struct_|end_ error;

FUNCION_ ::=        private_ function_ identificador parentesisA PARAMETRO parentesisC as TYPE_ FIN_CON_COMENT INFUNCION PIE_FUNCION        {:
                                                                                                                                            parser.guardarNodoRaiz("public function identificador()");
                                                                                                                                            Collections.reverse(parser.hijosFuncion);
                                                                                                                                            for(Nodo n : parser.hijosFuncion){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            parser.hijosModule.add(parser.getRaiz());
                                                                                                                                            :}

                    |error function_ identificador parentesisA PARAMETRO parentesisC as TYPE_ FIN_CON_COMENT INFUNCION PIE_FUNCION
                    |private_ function_ identificador parentesisA PARAMETRO parentesisC as TYPE_ FIN_CON_COMENT error PIE_FUNCION
                    |private_ error identificador parentesisA PARAMETRO parentesisC as TYPE_ FIN_CON_COMENT INFUNCION PIE_FUNCION
                    |private_ function_ error parentesisA PARAMETRO parentesisC as TYPE_ FIN_CON_COMENT INFUNCION PIE_FUNCION
                    |private_ function_ identificador error PARAMETRO parentesisC as TYPE_ FIN_CON_COMENT INFUNCION PIE_FUNCION
                    |private_ function_ identificador parentesisA error parentesisC as TYPE_ FIN_CON_COMENT INFUNCION PIE_FUNCION
                    |private_ function_ identificador parentesisA PARAMETRO error as TYPE_ FIN_CON_COMENT INFUNCION PIE_FUNCION
                    |private_ function_ identificador parentesisA PARAMETRO parentesisC error TYPE_ FIN_CON_COMENT INFUNCION PIE_FUNCION
                    |private_ function_ identificador parentesisA PARAMETRO parentesisC as error FIN_CON_COMENT INFUNCION PIE_FUNCION
            

;

PIE_FUNCION ::=      end_ function_
                    |error function_
                    |end_ error;
    

PARAMETRO ::=       identificador as TYPE_
                    |identificador as TYPE_ coma_ PARAMETRO
                    |byval identificador as TYPE_ coma_ PARAMETRO
                    |byval identificador as TYPE_;

INFUNCION ::=       console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT                                           {: 
                                                                                                                                            parser.guardarNodoRaiz("console.writeline()");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                    |DECLARACION                                                                                                            {: 
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}


                    |DECLARACION INFUNCION                                                                                                  {: 
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                                                                                                                        
                    |SENTENCIA_FUNCION

                    |comentario findelinea                                                                                                  {: 
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                                                                                                                        
                    |comentario  findelinea INFUNCION                                                                                       {: 
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_FUNCION FIN_CON_COMENT                                                                                          {: 
                                                                                                                                            parser.guardarNodoRaiz("funcion");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INFUNCION                                {: 
                                                                                                                                            parser.guardarNodoRaiz("console.writeline()");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                    |SENTENCIA_FUNCION INFUNCION

                    |LLAMAR_FUNCION FIN_CON_COMENT INFUNCION                                                                                {: 
                                                                                                                                            parser.guardarNodoRaiz("funcion");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_SUB                                                                                                             {: 
                                                                                                                                            parser.guardarNodoRaiz("subproceso");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                    |LLAMAR_SUB  INFUNCION                                                                                                  {: 
                                                                                                                                            parser.guardarNodoRaiz("subproceso");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                    |exit function_ FIN_CON_COMENT INFUNCION                                                                                {: 
                                                                                                                                            parser.guardarNodoRaiz("exit function");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                    |exit function_ FIN_CON_COMENT                                                                                          {: 
                                                                                                                                            parser.guardarNodoRaiz("exit function");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT                                                        {: 
                                                                                                                                            parser.guardarNodoRaiz("console.writeline()");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INFUNCION                                              {: 
                                                                                                                                            parser.guardarNodoRaiz("console.writeline()");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT                                                         {: 
                                                                                                                                            parser.guardarNodoRaiz("console.readline()");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                    |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INFUNCION                                               {: 
                                                                                                                                            parser.guardarNodoRaiz("console.readline()");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :};



SENTENCIA_FUNCION ::=    IF_FUNCION
                        |FOR_FUNCION
                        |WHILE_FUNCION;
    
IF_FUNCION ::=      if_ CONDICION then FIN_CON_COMENT INIF_FUNCION  end_ if_ FIN_CON_COMENT                                                 {:
                                                                                                                                            parser.guardarNodoRaiz("if condicion then");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            Collections.reverse(parser.hijosFuncion);
                                                                                                                                            :} 
                            
                    |if_ CONDICION then FIN_CON_COMENT INIF_FUNCION  else_ FIN_CON_COMENT INIF_FUNCION  end_ if_ FIN_CON_COMENT             {:
                                                                                                                                            parser.guardarNodoRaiz("if condicion then");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            Collections.reverse(parser.hijosFuncion);
                                                                                                                                            parser.guardarNodoRaiz("else");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                    |if_ CONDICION then FIN_CON_COMENT INIF_FUNCION ELSE_IF_FUNCION FIN_CON_COMENT INIF_FUNCION end_ if_ FIN_CON_COMENT     {:
                                                                                                                                            parser.guardarNodoRaiz("if condicion then");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            
                                                                                                                                            :}
                    |if_ CONDICION then FIN_CON_COMENT INIF_FUNCION ELSE_IF_FUNCION2 end_ if_ FIN_CON_COMENT                                {:
                                                                                                                                            parser.guardarNodoRaiz("if condicion then");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            Collections.reverse(parser.hijosFuncion);
                                                                                                                                            :};   

INIF_FUNCION ::=        console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT
                        |DECLARACION
                        |comentario findelinea 
                        | comentario  findelinea INIF_FUNCION
                        |SENTENCIA_FUNCION
                        |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INIF_FUNCION
                        |DECLARACION INIF_FUNCION
                        |SENTENCIA_FUNCION INIF_FUNCION
                        |LLAMAR_FUNCION FIN_CON_COMENT
                        |LLAMAR_FUNCION FIN_CON_COMENT INIF_FUNCION 
                        |LLAMAR_SUB 
                        |LLAMAR_SUB  INIF_FUNCION 
                        |exit function_ FIN_CON_COMENT INIF_FUNCION 
                        |exit function_ FIN_CON_COMENT
                        |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT
                        |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INIF_FUNCION
                        |console_ punto readline parentesisA parentesisC FIN_CON_COMENT
                        |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INIF_FUNCION;

ELSE_IF_FUNCION ::=     ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_FUNCION else_                                                        {: 
                                                                                                                                            parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_FUNCION ELSE_IF_FUNCION                                             {: 
                                                                                                                                            parser.guardarNodoRaiz("else");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :};
    
ELSE_IF_FUNCION2::=     ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_FUNCION                                                              {: 
                                                                                                                                            parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_FUNCION ELSE_IF_FUNCION2                                            {: 
                                                                                                                                            parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            :};

FOR_FUNCION ::=         for_ identificador igual NUMERO to NUMERO step_ NUMERO FIN_CON_COMENT INFOR_FUNCION 
                        next identificador FIN_CON_COMENT                                                                                   {: 
                                                                                                                                            parser.guardarNodoRaiz("for identificador igual numero to numero step numero");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            for(Nodo n : parser.hijosForFuncion){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            Nodo tmp = new Nodo("next identificador");
                                                                                                                                            parser.getRaiz().agregarHijo(tmp);
                                                                                                                                            :};

INFOR_FUNCION ::=       console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT                                       {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 
                    
                        |DECLARACION                                                                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 

                        |comentario findelinea                                                                                              {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 

                        | comentario  findelinea INFOR_FUNCION                                                                              {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 

                        |SENTENCIA_FOR_FUNCION

                        |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INFOR_FUNCION                        {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 
                    
                        |DECLARACION INFOR_FUNCION                                                                                          {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 
                    
                        |SENTENCIA_FOR_FUNCION INFOR_FUNCION

                        |LLAMAR_FUNCION FIN_CON_COMENT                                                                                      {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 
                    
                        |LLAMAR_FUNCION FIN_CON_COMENT INFOR_FUNCION                                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 
                    
                        |LLAMAR_SUB                                                                                                         {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 
                    
                        |LLAMAR_SUB  INFOR_FUNCION                                                                                          {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 

                        |exit function_ FIN_CON_COMENT INFOR_FUNCION                                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("exit function");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 
                    
                        |exit function_ FIN_CON_COMENT                                                                                      {:
                                                                                                                                            parser.guardarNodoRaiz("exit function");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 
                    
                        |exit for_ FIN_CON_COMENT INFOR_FUNCION                                                                             {:
                                                                                                                                            parser.guardarNodoRaiz("exit for");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 
                    
                        |exit for_ FIN_CON_COMENT                                                                                           {:
                                                                                                                                            parser.guardarNodoRaiz("exit for");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 
                    
                        |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT                                                    {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 
                    
                        |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INFOR_FUNCION                                      {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 
                    
                        |console_ punto readline parentesisA parentesisC FIN_CON_COMENT                                                     {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 
                    
                        |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INFOR_FUNCION                                       {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            :};

SENTENCIA_FOR_FUNCION ::=IF_FOR_FUNCION |FOR_FUNCION|WHILE_FOR_FUNCION;

IF_FOR_FUNCION ::=       if_ CONDICION then FIN_CON_COMENT INIF_FOR_FUNCION  end_ if_ FIN_CON_COMENT                                                    {:
                                                                                                                                                        parser.guardarNodoRaiz("if condicion then");
                                                                                                                                                        parser.hijosIfForFuncion.add(parser.getRaiz());
                                                                                                                                                        :} 
                                          
                        |if_ CONDICION then FIN_CON_COMENT INIF_FOR_FUNCION  else_ FIN_CON_COMENT INIF_FOR_FUNCION  end_ if_ FIN_CON_COMENT             {:
                                                                                                                                                        parser.guardarNodoRaiz("else");
                                                                                                                                                        parser.hijosIfForFuncion.add(parser.getRaiz());
                                                                                                                                                        parser.guardarNodoRaiz("if condicion then");
                                                                                                                                                        parser.hijosIfForFuncion.add(parser.getRaiz());
                                                                                                                                                        :}  

                        |if_ CONDICION then FIN_CON_COMENT INIF_FOR_FUNCION ELSE_IF_FOR_FUNCION FIN_CON_COMENT INIF_FOR_FUNCION end_ if_ FIN_CON_COMENT {:
                                                                                                                                                        parser.guardarNodoRaiz("if condicion then");
                                                                                                                                                        parser.hijosIfForFuncion.add(parser.getRaiz());
                                                                                                                                                        :} 

                        |if_ CONDICION then FIN_CON_COMENT INIF_FOR_FUNCION ELSE_IF_FOR_FUNCION2 end_ if_ FIN_CON_COMENT                                {:
                                                                                                                                                        parser.guardarNodoRaiz("if condicion then");
                                                                                                                                                        parser.hijosIfForFuncion.add(parser.getRaiz());
                                                                                                                                                        :} ;

INIF_FOR_FUNCION ::=     console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT
                        |DECLARACION
                        |comentario findelinea 
                        | comentario  findelinea INIF_FOR_FUNCION
                        |SENTENCIA_FOR_FUNCION
                        |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INIF_FOR_FUNCION
                        |DECLARACION INIF_FOR_FUNCION
                        |SENTENCIA_FOR_FUNCION INIF_FOR_FUNCION
                        |LLAMAR_FUNCION FIN_CON_COMENT
                        |LLAMAR_FUNCION FIN_CON_COMENT INIF_FUNCION 
                        |LLAMAR_SUB 
                        |LLAMAR_SUB  INIF_FOR_FUNCION
                        |exit function_ FIN_CON_COMENT INIF_FOR_FUNCION
                        |exit function_ FIN_CON_COMENT
                        |exit for_ FIN_CON_COMENT INIF_FOR_FUNCION
                        |exit for_ FIN_CON_COMENT
                        |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT
                        |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INIF_FOR_FUNCION
                        |console_ punto readline parentesisA parentesisC FIN_CON_COMENT
                        |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INIF_FOR_FUNCION; 

ELSE_IF_FOR_FUNCION ::=  ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_FOR_FUNCION else_                                                               {:
                                                                                                                                                        parser.guardarNodoRaiz("else");
                                                                                                                                                        parser.hijosIfForFuncion.add(parser.getRaiz());
                                                                                                                                                        parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                                        parser.hijosIfForFuncion.add(parser.getRaiz());
                                                                                                                                                        :} 
                        |ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_FOR_FUNCION ELSE_IF_FOR_FUNCION                                                 {:
                                                                                                                                                        
                                                                                                                                                        parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                                        parser.hijosIfForFuncion.add(parser.getRaiz());
                                                                                                                                                        :} ;

ELSE_IF_FOR_FUNCION2::=  ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_FOR_FUNCION                                                                     {:
                                                                                                                                                        
                                                                                                                                                        parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                                        parser.hijosIfForFuncion.add(parser.getRaiz());
                                                                                                                                                        :}
                        |ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_FOR_FUNCION ELSE_IF_FOR_FUNCION2                                                {:
                                                                                                                                                        
                                                                                                                                                        parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                                        parser.hijosIfForFuncion.add(parser.getRaiz());
                                                                                                                                                        :};

WHILE_FOR_FUNCION::=     do_ WHILE_TYPE CONDICION FIN_CON_COMENT INWHILE_FOR_FUNCION loop FIN_CON_COMENT                                    {: 
                                                                                                                                            parser.guardarNodoRaiz("do while condicion");
                                                                                                                                            parser.hijosForFuncion.add(parser.getRaiz());
                                                                                                                                            Collections.reverse(parser.hijosWhileForFuncion);
                                                                                                                                            for(Nodo n : parser.hijosWhileFuncion){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            Nodo tmp = new Nodo("Loop");
                                                                                                                                            parser.getRaiz().agregarHijo(tmp);
                                                                                                                                            :} ;

INWHILE_FOR_FUNCION ::=  console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT                                      {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |DECLARACION|SENTENCIA_WHILE
                        |comentario findelinea 
                        |comentario  findelinea INWHILE_FOR_FUNCION
                        |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INWHILE_FOR_FUNCION                  {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |DECLARACION INWHILE_FOR_FUNCION                                                                                    {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |SENTENCIA_WHILE INWHILE_FOR_FUNCION                                                                                    
                        |LLAMAR_FUNCION FIN_CON_COMENT                                                                                      {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |LLAMAR_FUNCION FIN_CON_COMENT INWHILE_FOR_FUNCION                                                                  {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |LLAMAR_SUB                                                                                                         {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}          
                        |LLAMAR_SUB  INWHILE_FOR_FUNCION                                                                                    {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |exit do_ FIN_CON_COMENT INWHILE_FOR_FUNCION                                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("exit do");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |exit for_ FIN_CON_COMENT INWHILE_FOR_FUNCION                                                                       {:
                                                                                                                                            parser.guardarNodoRaiz("exit for");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |exit function_ FIN_CON_COMENT INWHILE_FOR_FUNCION|exit do_ FIN_CON_COMENT                                          {:
                                                                                                                                            parser.guardarNodoRaiz("exit do");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |exit for_ FIN_CON_COMENT                                                                                           {:
                                                                                                                                            parser.guardarNodoRaiz("exit for");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        | exit function_ FIN_CON_COMENT                                                                                     {:
                                                                                                                                            parser.guardarNodoRaiz("exit function");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT                                                    {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INWHILE_FOR_FUNCION                                {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |console_ punto readline parentesisA parentesisC FIN_CON_COMENT                                                     {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INWHILE_FOR_FUNCION                                 {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :};

WHILE_FUNCION::=        do_ WHILE_TYPE CONDICION FIN_CON_COMENT INWHILE_FUNCION loop FIN_CON_COMENT                                        {: 
                                                                                                                                            parser.guardarNodoRaiz("do while condicion");
                                                                                                                                            parser.hijosFuncion.add(parser.getRaiz());
                                                                                                                                            Collections.reverse(parser.hijosWhileFuncion);
                                                                                                                                            for(Nodo n : parser.hijosWhileFuncion){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            Nodo tmp = new Nodo("Loop");
                                                                                                                                            parser.getRaiz().agregarHijo(tmp);
                                                                                                                                            
                                                                                                                                            :};

INWHILE_FUNCION ::=     console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT                                       {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                        |DECLARACION                                                                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :}  
                                                                                                                                            {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |comentario findelinea 
                        |comentario  findelinea INWHILE_FUNCION                                                                             {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |SENTENCIA_FOR_FUNCION
                        |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INWHILE_FUNCION                      {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                        |DECLARACION INWHILE_FUNCION                                                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |SENTENCIA_FOR_FUNCION INWHILE_FUNCION
                        |LLAMAR_FUNCION FIN_CON_COMENT                                                                                      {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :} 

                        |LLAMAR_FUNCION FIN_CON_COMENT INWHILE_FUNCION                                                                      {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |LLAMAR_SUB                                                                                                         {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :} 
                        |LLAMAR_SUB  INWHILE_FUNCION                                                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                        |exit do_ FIN_CON_COMENT INWHILE_FUNCION                                                                            {:
                                                                                                                                            parser.guardarNodoRaiz("exit function");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |exit function_ FIN_CON_COMENT INWHILE_FUNCION                                                                      {:
                                                                                                                                            parser.guardarNodoRaiz("exit function");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                        |exit do_ FIN_CON_COMENT |exit function_ FIN_CON_COMENT                                                             {:
                                                                                                                                            parser.guardarNodoRaiz("exit do");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                        |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT                                                    {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :}

                        |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INWHILE_FUNCION                                    {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |console_ punto readline parentesisA parentesisC FIN_CON_COMENT                                                     {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INWHILE_FUNCION                                     {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            :};                

SENTENCIA_WHILE_FUNCION ::= IF_WHILE_FUNCION |FOR_WHILE_FUNCION|WHILE_FUNCION;

IF_WHILE_FUNCION ::=     if_ CONDICION then FIN_CON_COMENT INIF_WHILE_FUNCION end_ if_ FIN_CON_COMENT                                                                   {:
                                                                                                                                                                        parser.guardarNodoRaiz("if condicion then");
                                                                                                                                                                        parser.hijosIfWhileFuncion.add(parser.getRaiz());
                                                                                                                                                                        :}

                        |if_ CONDICION then FIN_CON_COMENT INIF_WHILE_FUNCION else_ INIF_WHILE_FUNCION end_ if_ FIN_CON_COMENT                                          {:
                                                                                                                                                                        parser.guardarNodoRaiz("else");
                                                                                                                                                                        parser.hijosIfWhileFuncion.add(parser.getRaiz());
                                                                                                                                                                        parser.guardarNodoRaiz("if condicion then");
                                                                                                                                                                        parser.hijosIfWhileFuncion.add(parser.getRaiz());
                                                                                                                                                                        :}

                        
                        |if_ CONDICION then FIN_CON_COMENT INIF_WHILE_FUNCION ELSE_IF_WHILE_FUNCION FIN_CON_COMENT                                                      {:
                                                                                                                                                                        parser.guardarNodoRaiz("if condicion then");
                                                                                                                                                                        parser.hijosIfWhileFuncion.add(parser.getRaiz());
                                                                                                                                                                        :}

                        |if_ CONDICION then FIN_CON_COMENT INIF_WHILE_FUNCION ELSE_IF_WHILE_FUNCION2 end_ if_ FIN_CON_COMENT                                            {:
                                                                                                                                                                        parser.guardarNodoRaiz("if condicion then");
                                                                                                                                                                        parser.hijosIfWhileFuncion.add(parser.getRaiz());
                                                                                                                                                                        :};
                     

INIF_WHILE_FUNCION ::=  console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT|DECLARACION
                        |comentario findelinea 
                        |comentario  findelinea INIF_WHILE_FUNCION
                        |SENTENCIA_FOR_FUNCION
                        |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INIF_WHILE_FUNCION
                        |DECLARACION INIF_WHILE_FUNCION
                        |SENTENCIA_FOR_FUNCION INIF_WHILE_FUNCION
                        |LLAMAR_FUNCION FIN_CON_COMENT
                        |LLAMAR_FUNCION FIN_CON_COMENT INIF_WHILE_FUNCION 
                        |LLAMAR_SUB 
                        |LLAMAR_SUB  INIF_WHILE_FUNCION
                        |exit function_ FIN_CON_COMENT INIF_WHILE_FUNCION
                        |exit for_ FIN_CON_COMENT INIF_WHILE_FUNCION
                        |exit function_ FIN_CON_COMENT
                        |exit for_ FIN_CON_COMENT
                        |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT
                        |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INIF_WHILE_FUNCION
                        |console_ punto readline parentesisA parentesisC FIN_CON_COMENT
                        |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INIF_WHILE_FUNCION;

ELSE_IF_WHILE_FUNCION ::= ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_WHILE_FUNCION else_                                                                            {:
                                                                                                                                                                        parser.guardarNodoRaiz("else");
                                                                                                                                                                        parser.hijosIfWhileFuncion.add(parser.getRaiz());
                                                                                                                                                                        parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                                                        parser.hijosIfWhileFuncion.add(parser.getRaiz());
                                                                                                                                                                        :}

                        |ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_WHILE_FUNCION ELSE_IF_WHILE_FUNCION                                                             {:
                                                                                                                                                                        parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                                                        parser.hijosIfWhileFuncion.add(parser.getRaiz());
                                                                                                                                                                        :};

ELSE_IF_WHILE_FUNCION2::= ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_WHILE_FUNCION                                                                                  {:
                                                                                                                                                                        parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                                                        parser.hijosIfWhileFuncion.add(parser.getRaiz());
                                                                                                                                                                        :}
                        |ELSEIF_TYPE CONDICION then FIN_CON_COMENT INIF_WHILE_FUNCION ELSE_IF_WHILE_FUNCION2                                                            {:
                                                                                                                                                                        parser.guardarNodoRaiz("elseif condicion then");
                                                                                                                                                                        parser.hijosIfWhileFuncion.add(parser.getRaiz());
                                                                                                                                                                        :};


FOR_WHILE_FUNCION ::=   for_ identificador igual NUMERO to NUMERO step_ NUMERO FIN_CON_COMENT INFOR_WHILE_FUNCION next identificador 
                        FIN_CON_COMENT                                                                                                      {: 
                                                                                                                                            parser.guardarNodoRaiz("do while condicion");
                                                                                                                                            parser.hijosWhileFuncion.add(parser.getRaiz());
                                                                                                                                            Collections.reverse(parser.hijosWhileForFuncion);
                                                                                                                                            for(Nodo n : parser.hijosWhileFuncion){
                                                                                                                                                    parser.getRaiz().agregarHijo(n);
                                                                                                                                            }
                                                                                                                                            Nodo tmp = new Nodo("Loop");
                                                                                                                                            parser.getRaiz().agregarHijo(tmp);
                                                                                                                                            
                                                                                                                                            :};

INFOR_WHILE_FUNCION ::= console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT                                       {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |DECLARACION                                                                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |SENTENCIA_WHILE
                        |comentario findelinea                                                                                              {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |comentario  findelinea INFOR_WHILE_FUNCION                                                                         {:
                                                                                                                                            parser.guardarNodoRaiz("comentario");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}                          
                        |console_ punto writeline parentesisA  INPARENTESIS parentesisC FIN_CON_COMENT INFOR_WHILE_FUNCION                  {:
                                                                                                                                            parser.guardarNodoRaiz("console.witeLine()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |DECLARACION INFOR_WHILE_FUNCION                                                                                    {:
                                                                                                                                            parser.guardarNodoRaiz("declaracion");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |SENTENCIA_WHILE INFOR_WHILE_FUNCION    
                        |LLAMAR_FUNCION FIN_CON_COMENT                                                                                      {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |LLAMAR_FUNCION FIN_CON_COMENT INFOR_WHILE_FUNCION                                                                  {:
                                                                                                                                            parser.guardarNodoRaiz("funcion()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |LLAMAR_SUB                                                                                                         {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |LLAMAR_SUB  INFOR_WHILE_FUNCION                                                                                    {:
                                                                                                                                            parser.guardarNodoRaiz("subproceso()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |exit do_ FIN_CON_COMENT INFOR_WHILE_FUNCION                                                                        {:
                                                                                                                                            parser.guardarNodoRaiz("exit do");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |exit for_ FIN_CON_COMENT INFOR_WHILE_FUNCION                                                                       {:
                                                                                                                                            parser.guardarNodoRaiz("exit for");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |exit function_ FIN_CON_COMENT INFOR_WHILE_FUNCION                                                                  {:
                                                                                                                                            parser.guardarNodoRaiz("exit function");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |exit do_ FIN_CON_COMENT                                                                                            {:
                                                                                                                                            parser.guardarNodoRaiz("exit do");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 
                        |exit for_ FIN_CON_COMENT                                                                                           {:
                                                                                                                                            parser.guardarNodoRaiz("exit for");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :} 
                        |exit function_ FIN_CON_COMENT                                                                                      {:
                                                                                                                                            parser.guardarNodoRaiz("exit function");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT                                                    {:
                                                                                                                                            parser.guardarNodoRaiz("console.wirteLine()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |console_ punto writeline parentesisA parentesisC FIN_CON_COMENT INFOR_WHILE_FUNCION                                {:
                                                                                                                                            parser.guardarNodoRaiz("console.writeLine()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |console_ punto readline parentesisA parentesisC FIN_CON_COMENT                                                     {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}
                        |console_ punto readline parentesisA parentesisC FIN_CON_COMENT INFOR_WHILE_FUNCION                                 {:
                                                                                                                                            parser.guardarNodoRaiz("console.readLine()");
                                                                                                                                            parser.hijosWhileForFuncion.add(parser.getRaiz());
                                                                                                                                            :}; 